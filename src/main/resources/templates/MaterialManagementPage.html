<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.datatables.net/v/dt/dt-2.0.8/datatables.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        #example {
            margin-top: 50px;
        }

        /* 팝업창 스타일 */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 2000px;
            max-width: 90%;
            height: 1000px;
            max-height: 90%;
            overflow-y: auto;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .popupbtnarea {
            text-align: center;
            margin-top: 20px;
        }

        .closepopupbtn {
            width: 120px;
            height: 35px;
            border-radius: 8px;
            color: white;
        }

        .btn-primary {
            background-color: #5C75E6;
            border: none;
        }

        .btn-danger {
            background-color: #b12646;
            border: none;
        }
    </style>
</head>
<body>
<header th:replace="header :: header"></header>

<div class="aaaa">
    <table id="example" class="display" style="width:100%">
        <thead>
        <tr>
            <th>선택</th>
            <th>수주 번호</th>
            <th>발주 번호</th>
            <th>원자재</th>
            <th>주문량</th>
            <th>주문일</th>
            <th>배송 완료일</th>
            <th>배송 상태</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>
<div class="container mt-3">
    <div class="row justify-content-end">
        <div class="col-auto">
            <button id="deleteSelected" class="btn btn-danger mt-0">선택된 항목 삭제</button>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary ms-2" type="button">배송 완료</button>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary ms-2" type="button" id="openRegistrationPopup">발주 계획 조회</button>
        </div>
    </div>
</div>

<!-- 팝업 시작 -->
<div id="registrationPopup" class="popup">
    <div class="content">
        <div class="container">
            <!-- 제목을 포함하는 그리드 -->
            <div class="row mb-3">
                <div class="col">
                    <h1 class="text-center mt-5 mb-4">발주 등록</h1>
                </div>
            </div>

            <!-- 2x2 표 -->
            <div class="row mb-3">
                <div class="col">
                    <table class="table custom-table">
                        <thead>
                        <tr>
                            <th scope="col">포장지</th>
                            <th scope="col">박스</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>20ea</td>
                            <td>100ea</td>
                        </tr>
                        <!-- 추가 행이 필요하면 여기에 추가 -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 본문 내용 -->
            <div class="row">
                <div class="col">
                    <table id="example1" class="table table-bordered display" style="width:100%">
                        <thead>
                        <tr>
                            <th>선택</th>
                            <th>수주 번호</th>
                            <th>제품명</th>
                            <th>생산 수량(box)</th>
                            <th>발주 등록 예정 날짜</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                        </tr>
                        <!-- 다른 행들도 필요에 따라 추가 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="popupbtnarea">
            <button id="openConfirmationPopup" class="closepopupbtn btn-primary">수주등록</button>
            <button class="closepopupbtn btn-danger" onclick="closePopup('registrationPopup')">취소</button>
        </div>
    </div>
</div>

<!-- 확인 팝업 -->
<div id="confirmationPopup" class="popup">
    <div class="content">
        <div class="container">
            <!-- 제목을 포함하는 그리드 -->
            <div class="row mb-3">
                <div class="col">
                    <h1 class="text-center mt-5 mb-4">발주 계획</h1>
                </div>
            </div>

            <!-- 2x2 표 -->
            <div class="row mb-3">
                <div class="col">
                    <table class="table custom-table">
                        <thead>
                        <tr>
                            <th scope="col">포장지</th>
                            <th scope="col">박스</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>20ea</td>
                            <td>100ea</td>
                        </tr>
                        <!-- 추가 행이 필요하면 여기에 추가 -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 두 테이블을 한 줄에 배치 -->
            <div class="row table-container">
                <div class="col">
                    <table id="example2" class="table table-bordered display" style="width:100%">
                        <thead>
                        <tr>
                            <th>수주 번호</th>
                            <th>제품명</th>
                            <th>제작 수량(box)</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1</td>
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <!-- 코드 계속 -->
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                        </tr>
                        <!-- 다른 행들도 필요에 따라 추가 -->
                        </tbody>
                    </table>
                </div>
                <div class="col">
                    <table id="example3" class="table table-bordered display" style="width:100%">
                        <thead>
                        <tr>
                            <th>원자재명</th>
                            <th>원자재량</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>Tiger Nixon</td>
                        </tr>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>Tiger Nixon</td>
                        </tr>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>Tiger Nixon</td>
                        </tr>
                        <!-- 다른 행들도 필요에 따라 추가 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="popupbtnarea">
            <button class="closepopupbtn btn-primary" onclick="closePopup('confirmationPopup')">닫기</button>
        </div>
    </div>
</div>
<!-- 팝업 끝 -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
<script>
    $(document).ready(function() {
        var table = $('#example').DataTable({
            paging: false,
            lengthChange: false,
            searching: false,
            select: false,
            info: false
        });

        var table1 = $('#example1').DataTable({
            paging: false,
            lengthChange: false,
            searching: false,
            select: false,
            info: false
        });

        var table2 = $('#example2').DataTable({
            paging: false,
            lengthChange: false,
            searching: false,
            select: false,
            info: false
        });

        var table3 = $('#example3').DataTable({
            paging: false,
            lengthChange: false,
            searching: false,
            select: false,
            info: false
        });

        $('#deleteSelected').click(function() {
            var selectedRows = table.rows('.selected').data();
            if (selectedRows.length > 0) {
                if (confirm('선택된 항목을 삭제하시겠습니까?')) {
                    selectedRows.each(function(index) {
                        var rowData = table.row(index).data();
                        console.log('삭제할 데이터:', rowData);
                    });
                }
            } else {
                alert('삭제할 항목을 선택해 주세요.');
            }
        });

        $('#example').on('click', 'input[type="checkbox"]', function() {
            $(this).closest('tr').toggleClass('selected');
        });

        // 팝업 열기/닫기 함수
        window.openPopup= function(popupId) {
            $("#" + popupId).fadeIn();
        }

        window.closePopup = function(popupId) {
            $("#" + popupId).fadeOut();
        }

        // 팝업 열기 이벤트
        $(document).ready(function () {
            $("#openRegistrationPopup").click(function () {
                openPopup("registrationPopup");
            });

            $("#openConfirmationPopup").click(function () {
                closePopup("registrationPopup");
                openPopup("confirmationPopup");
            });
        });
    });
</script>
</body>
</html>

